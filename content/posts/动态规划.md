+++
date = '2026-01-21T02:18:09+08:00'
draft = false
title = '2026 1 21'
+++


# 一、什么是动态规划

> **动态规划 = 把一个复杂问题拆成很多“有规律、会重复”的小问题，
> 把小问题的答案保存下来，逐步得到大问题的答案。**

核心思想只有两个字：
👉 **“记住”**

---

# 二、什么时候应该想到「动态规划」？（题目特点）

一道题 **非常可能是 DP**，通常会有以下特征中的 **2 个以上**：

---

## ✅ 特点 1：题目在问「最值 / 可行性 / 方案数」

例如：

* 最大 / 最小
* 最长 / 最短
* 能不能做到（true / false）
* 有多少种方案

📌 **DP 最擅长：**

* 最优解
* 累积结果

---

## ✅ 特点 2：题目中出现「前 i 个 / 到第 i 步 / 某个区间」

例如：

* 前 i 个数
* 到第 i 天
* 走到第 i 个位置
* 区间 [i, j]

👉 说明问题可以**分阶段解决**

---

## ✅ 特点 3：当前选择只和“之前的状态”有关

比如：

* 今天是否买股票，只和昨天有关
* 走到当前格子，只和左边 / 上边有关
* 选不选第 i 个数，只和前 i-1 个有关

👉 **无后效性（这是 DP 能成立的前提）**

---

## ✅ 特点 4：暴力做法会“重复计算”

比如：

* 递归会反复算同一个子问题
* 枚举所有可能会超时

👉 这时就要想到：
**“能不能把算过的结果存下来？”**

---

# 三、做动态规划题的「标准教学流程」

我教学生一般固定 **5 个步骤**，任何 DP 题都按这个来。

---

## 🔶 第 1 步：明确「状态」——dp 表示什么？

问自己一句话：

> **dp 是用来记录什么的？**

常见形式：

```text
dp[i]      → 前 i 个 / 到第 i 步 的结果
dp[i][j]   → 前 i 个，在某种条件 j 下的结果
```

📌 例子（爬楼梯）：

```text
dp[i] = 爬到第 i 阶的方法数
```

---

## 🔶 第 2 步：确定「转移关系」——怎么从小问题得到大问题？

问自己：

> **我现在这一步，是从哪几步来的？**

例如：

* 从左 / 从上
* 要 / 不要
* 买 / 不买

📌 例子（爬楼梯）：

```text
dp[i] = dp[i-1] + dp[i-2]
```

---

## 🔶 第 3 步：找到「初始状态」

问自己：

> **最简单、最小的问题是什么？**

比如：

* dp[0]
* dp[1]
* dp[0][0]

📌 没有初始值，DP 就跑不起来

---

## 🔶 第 4 步：确定「计算顺序」

原则只有一句话：

> **算 dp[i] 之前，它依赖的 dp 必须已经算好**

所以：

* 一般从小到大
* 区间 DP 要注意长度

---

## 🔶 第 5 步：返回最终答案

通常是：

```text
dp[n]
dp[m][n]
dp[0][n-1]
```

---

# 四、一个完整示例（最小路径和）

## 题目：

从左上角到右下角，只能向右或向下，求最小路径和。

---

### ① 定义状态

```text
dp[i][j] = 从 (0,0) 走到 (i,j) 的最小路径和
```

---

### ② 状态转移

```text
dp[i][j] = min(
    dp[i-1][j],   // 从上来
    dp[i][j-1]    // 从左来
) + grid[i][j]
```

---

### ③ 初始条件

```text
dp[0][0] = grid[0][0]
```

---

### ④ 计算顺序

* 从上到下
* 从左到右

---

### ⑤ 返回答案

```text
dp[m-1][n-1]
```

---

# 五、动态规划常见题型分类

我一般把 DP 题分成 **5 大类**：

---

## 1️⃣ 一维 DP（最基础）

特征：

* dp[i] 只和前面几个有关

例子：

* 爬楼梯
* 打家劫舍
* 最大子数组和

---

## 2️⃣ 二维 DP（最常见）

特征：

* dp[i][j]
* 两个维度控制状态

例子：

* 最小路径和
* 最长公共子序列
* 背包问题

---

## 3️⃣ 背包问题（一定要会）

关键词：

* 选 / 不选
* 容量限制
* 价值最大

---

## 4️⃣ 区间 DP（偏难）

特征：

* dp[l][r]
* 枚举中间点

例子：

* 戳气球
* 合并石子

---

## 5️⃣ 状态压缩 DP（进阶）

特征：

* 状态用二进制表示
* 适合 n ≤ 20

---

# 六、最容易犯的 3 个错误

❌ dp 定义不清楚
❌ 转移方程和 dp 含义对不上
❌ 顺序写反，依赖的状态还没算

---

# 七、记住这句话就够了

> **做 DP 题，不是背公式，而是：
> 站在当前状态，想“我从哪来、选哪条路最好”，
> 然后把结果记下来。**

